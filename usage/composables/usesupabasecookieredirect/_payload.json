[{"data":1,"prerenderedAt":775},["ShallowReactive",2],{"navigation":3,"/usage/composables/usesupabasecookieredirect":61,"/usage/composables/usesupabasecookieredirect-surround":770},[4,8,12,49,53,57],{"title":5,"_path":6,"icon":7},"Get Started","/get-started","i-heroicons-rocket-launch",{"title":9,"_path":10,"icon":11},"Authentication","/authentication","i-heroicons-lock-closed",{"title":13,"_path":14,"children":15,"icon":48},"Usage","/usage",[16,32],{"title":17,"_path":18,"children":19},"Vue composables","/usage/composables",[20,23,26,29],{"title":21,"_path":22},"useSupabaseClient","/usage/composables/usesupabaseclient",{"title":24,"_path":25},"useSupabaseCookieRedirect","/usage/composables/usesupabasecookieredirect",{"title":27,"_path":28},"useSupabaseSession","/usage/composables/usesupabasesession",{"title":30,"_path":31},"useSupabaseUser","/usage/composables/usesupabaseuser",{"title":33,"_path":34,"children":35},"Server services","/usage/services",[36,39,42,45],{"title":37,"_path":38},"serverSupabaseClient","/usage/services/serversupabaseclient",{"title":40,"_path":41},"serverSupabaseServiceRole","/usage/services/serversupabaseservicerole",{"title":43,"_path":44},"serverSupabaseSession","/usage/services/serversupabasesession",{"title":46,"_path":47},"serverSupabaseUser","/usage/services/serversupabaseuser","heroicons:book-open",{"title":50,"_path":51,"icon":52},"Demo","/demo","i-heroicons-computer-desktop-20-solid",{"title":54,"_path":55,"icon":56},"Changelog","/changelog","i-heroicons-bookmark",{"title":58,"_path":59,"icon":60},"Roadmap","/roadmap","i-heroicons-map",{"_path":25,"_dir":62,"_draft":63,"_partial":63,"_locale":64,"title":24,"description":65,"body":66,"_type":764,"_id":765,"_source":766,"_file":767,"_stem":768,"_extension":769},"composables",false,"","Handle redirecting users to the page they previously tried to visit after login",{"type":67,"children":68,"toc":759},"root",[69,85,91,121,138,488,494,499,525,531,536,725,753],{"type":70,"tag":71,"props":72,"children":73},"element","p",{},[74,77,83],{"type":75,"value":76},"text","The ",{"type":70,"tag":78,"props":79,"children":81},"code",{"className":80},[],[82],{"type":75,"value":24},{"type":75,"value":84}," composable provides a simple way to handle storing and retrieving a redirect path with a cookie.",{"type":70,"tag":86,"props":87,"children":89},"h2",{"id":88},"usage",[90],{"type":75,"value":13},{"type":70,"tag":71,"props":92,"children":93},{},[94,96,103,105,111,113,119],{"type":75,"value":95},"This composable can be ",{"type":70,"tag":97,"props":98,"children":100},"a",{"href":99},"#manual-usage",[101],{"type":75,"value":102},"manually used",{"type":75,"value":104}," to save and retrieve a redirect path. However, the redirect path can automatically be set via the ",{"type":70,"tag":78,"props":106,"children":108},{"className":107},[],[109],{"type":75,"value":110},"saveRedirectToCookie",{"type":75,"value":112}," option in the ",{"type":70,"tag":97,"props":114,"children":116},{"href":115},"/get-started#redirectoptions",[117],{"type":75,"value":118},"redirectOptions",{"type":75,"value":120},".",{"type":70,"tag":71,"props":122,"children":123},{},[124,126,136],{"type":75,"value":125},"The redirect path is not automatically used. Instead you must implement the logic to redirect the user to the saved path, for example on the ",{"type":70,"tag":97,"props":127,"children":129},{"href":128},"/authentication#confirm-page-confirm",[130],{"type":70,"tag":78,"props":131,"children":133},{"className":132},[],[134],{"type":75,"value":135},"/confirm",{"type":75,"value":137}," page.",{"type":70,"tag":139,"props":140,"children":144},"pre",{"className":141,"code":142,"language":143,"meta":64,"style":64},"language-vue shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","\u003Cscript setup>\nconst user = useSupabaseUser()\nconst redirectInfo = useSupabaseCookieRedirect()\n\nwatch(user, () => {\n  if (user.value) {\n    // Get the saved path and clear it from the cookie\n    const path = redirectInfo.pluck()\n    // Redirect to the saved path, or fallback to home\n    return navigateTo(path || '/')\n  }\n}, { immediate: true })\n\u003C/script>\n","vue",[145],{"type":70,"tag":78,"props":146,"children":147},{"__ignoreMap":64},[148,177,208,234,244,278,317,327,364,373,423,432,471],{"type":70,"tag":149,"props":150,"children":153},"span",{"class":151,"line":152},"line",1,[154,160,166,172],{"type":70,"tag":149,"props":155,"children":157},{"style":156},"--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF",[158],{"type":75,"value":159},"\u003C",{"type":70,"tag":149,"props":161,"children":163},{"style":162},"--shiki-light:#E53935;--shiki-default:#F07178;--shiki-dark:#F07178",[164],{"type":75,"value":165},"script",{"type":70,"tag":149,"props":167,"children":169},{"style":168},"--shiki-light:#9C3EDA;--shiki-default:#C792EA;--shiki-dark:#C792EA",[170],{"type":75,"value":171}," setup",{"type":70,"tag":149,"props":173,"children":174},{"style":156},[175],{"type":75,"value":176},">\n",{"type":70,"tag":149,"props":178,"children":180},{"class":151,"line":179},2,[181,186,192,197,203],{"type":70,"tag":149,"props":182,"children":183},{"style":168},[184],{"type":75,"value":185},"const",{"type":70,"tag":149,"props":187,"children":189},{"style":188},"--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8",[190],{"type":75,"value":191}," user ",{"type":70,"tag":149,"props":193,"children":194},{"style":156},[195],{"type":75,"value":196},"=",{"type":70,"tag":149,"props":198,"children":200},{"style":199},"--shiki-light:#6182B8;--shiki-default:#82AAFF;--shiki-dark:#82AAFF",[201],{"type":75,"value":202}," useSupabaseUser",{"type":70,"tag":149,"props":204,"children":205},{"style":188},[206],{"type":75,"value":207},"()\n",{"type":70,"tag":149,"props":209,"children":211},{"class":151,"line":210},3,[212,216,221,225,230],{"type":70,"tag":149,"props":213,"children":214},{"style":168},[215],{"type":75,"value":185},{"type":70,"tag":149,"props":217,"children":218},{"style":188},[219],{"type":75,"value":220}," redirectInfo ",{"type":70,"tag":149,"props":222,"children":223},{"style":156},[224],{"type":75,"value":196},{"type":70,"tag":149,"props":226,"children":227},{"style":199},[228],{"type":75,"value":229}," useSupabaseCookieRedirect",{"type":70,"tag":149,"props":231,"children":232},{"style":188},[233],{"type":75,"value":207},{"type":70,"tag":149,"props":235,"children":237},{"class":151,"line":236},4,[238],{"type":70,"tag":149,"props":239,"children":241},{"emptyLinePlaceholder":240},true,[242],{"type":75,"value":243},"\n",{"type":70,"tag":149,"props":245,"children":247},{"class":151,"line":246},5,[248,253,258,263,268,273],{"type":70,"tag":149,"props":249,"children":250},{"style":199},[251],{"type":75,"value":252},"watch",{"type":70,"tag":149,"props":254,"children":255},{"style":188},[256],{"type":75,"value":257},"(user",{"type":70,"tag":149,"props":259,"children":260},{"style":156},[261],{"type":75,"value":262},",",{"type":70,"tag":149,"props":264,"children":265},{"style":156},[266],{"type":75,"value":267}," ()",{"type":70,"tag":149,"props":269,"children":270},{"style":168},[271],{"type":75,"value":272}," =>",{"type":70,"tag":149,"props":274,"children":275},{"style":156},[276],{"type":75,"value":277}," {\n",{"type":70,"tag":149,"props":279,"children":281},{"class":151,"line":280},6,[282,288,293,298,302,307,312],{"type":70,"tag":149,"props":283,"children":285},{"style":284},"--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[286],{"type":75,"value":287},"  if",{"type":70,"tag":149,"props":289,"children":290},{"style":162},[291],{"type":75,"value":292}," (",{"type":70,"tag":149,"props":294,"children":295},{"style":188},[296],{"type":75,"value":297},"user",{"type":70,"tag":149,"props":299,"children":300},{"style":156},[301],{"type":75,"value":120},{"type":70,"tag":149,"props":303,"children":304},{"style":188},[305],{"type":75,"value":306},"value",{"type":70,"tag":149,"props":308,"children":309},{"style":162},[310],{"type":75,"value":311},") ",{"type":70,"tag":149,"props":313,"children":314},{"style":156},[315],{"type":75,"value":316},"{\n",{"type":70,"tag":149,"props":318,"children":320},{"class":151,"line":319},7,[321],{"type":70,"tag":149,"props":322,"children":324},{"style":323},"--shiki-light:#90A4AE;--shiki-default:#546E7A;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[325],{"type":75,"value":326},"    // Get the saved path and clear it from the cookie\n",{"type":70,"tag":149,"props":328,"children":330},{"class":151,"line":329},8,[331,336,341,346,351,355,360],{"type":70,"tag":149,"props":332,"children":333},{"style":168},[334],{"type":75,"value":335},"    const",{"type":70,"tag":149,"props":337,"children":338},{"style":188},[339],{"type":75,"value":340}," path",{"type":70,"tag":149,"props":342,"children":343},{"style":156},[344],{"type":75,"value":345}," =",{"type":70,"tag":149,"props":347,"children":348},{"style":188},[349],{"type":75,"value":350}," redirectInfo",{"type":70,"tag":149,"props":352,"children":353},{"style":156},[354],{"type":75,"value":120},{"type":70,"tag":149,"props":356,"children":357},{"style":199},[358],{"type":75,"value":359},"pluck",{"type":70,"tag":149,"props":361,"children":362},{"style":162},[363],{"type":75,"value":207},{"type":70,"tag":149,"props":365,"children":367},{"class":151,"line":366},9,[368],{"type":70,"tag":149,"props":369,"children":370},{"style":323},[371],{"type":75,"value":372},"    // Redirect to the saved path, or fallback to home\n",{"type":70,"tag":149,"props":374,"children":376},{"class":151,"line":375},10,[377,382,387,392,397,402,407,413,418],{"type":70,"tag":149,"props":378,"children":379},{"style":284},[380],{"type":75,"value":381},"    return",{"type":70,"tag":149,"props":383,"children":384},{"style":199},[385],{"type":75,"value":386}," navigateTo",{"type":70,"tag":149,"props":388,"children":389},{"style":162},[390],{"type":75,"value":391},"(",{"type":70,"tag":149,"props":393,"children":394},{"style":188},[395],{"type":75,"value":396},"path",{"type":70,"tag":149,"props":398,"children":399},{"style":156},[400],{"type":75,"value":401}," ||",{"type":70,"tag":149,"props":403,"children":404},{"style":156},[405],{"type":75,"value":406}," '",{"type":70,"tag":149,"props":408,"children":410},{"style":409},"--shiki-light:#91B859;--shiki-default:#C3E88D;--shiki-dark:#C3E88D",[411],{"type":75,"value":412},"/",{"type":70,"tag":149,"props":414,"children":415},{"style":156},[416],{"type":75,"value":417},"'",{"type":70,"tag":149,"props":419,"children":420},{"style":162},[421],{"type":75,"value":422},")\n",{"type":70,"tag":149,"props":424,"children":426},{"class":151,"line":425},11,[427],{"type":70,"tag":149,"props":428,"children":429},{"style":156},[430],{"type":75,"value":431},"  }\n",{"type":70,"tag":149,"props":433,"children":435},{"class":151,"line":434},12,[436,441,446,451,456,462,467],{"type":70,"tag":149,"props":437,"children":438},{"style":156},[439],{"type":75,"value":440},"},",{"type":70,"tag":149,"props":442,"children":443},{"style":156},[444],{"type":75,"value":445}," {",{"type":70,"tag":149,"props":447,"children":448},{"style":162},[449],{"type":75,"value":450}," immediate",{"type":70,"tag":149,"props":452,"children":453},{"style":156},[454],{"type":75,"value":455},":",{"type":70,"tag":149,"props":457,"children":459},{"style":458},"--shiki-light:#FF5370;--shiki-default:#FF9CAC;--shiki-dark:#FF9CAC",[460],{"type":75,"value":461}," true",{"type":70,"tag":149,"props":463,"children":464},{"style":156},[465],{"type":75,"value":466}," }",{"type":70,"tag":149,"props":468,"children":469},{"style":188},[470],{"type":75,"value":422},{"type":70,"tag":149,"props":472,"children":474},{"class":151,"line":473},13,[475,480,484],{"type":70,"tag":149,"props":476,"children":477},{"style":156},[478],{"type":75,"value":479},"\u003C/",{"type":70,"tag":149,"props":481,"children":482},{"style":162},[483],{"type":75,"value":165},{"type":70,"tag":149,"props":485,"children":486},{"style":156},[487],{"type":75,"value":176},{"type":70,"tag":86,"props":489,"children":491},{"id":490},"return-values",[492],{"type":75,"value":493},"Return Values",{"type":70,"tag":71,"props":495,"children":496},{},[497],{"type":75,"value":498},"The composable returns an object with the following properties:",{"type":70,"tag":500,"props":501,"children":502},"ul",{},[503,514],{"type":70,"tag":504,"props":505,"children":506},"li",{},[507,512],{"type":70,"tag":78,"props":508,"children":510},{"className":509},[],[511],{"type":75,"value":396},{"type":75,"value":513},": A reactive cookie reference containing the redirect path. Can be both read and written to.",{"type":70,"tag":504,"props":515,"children":516},{},[517,523],{"type":70,"tag":78,"props":518,"children":520},{"className":519},[],[521],{"type":75,"value":522},"pluck()",{"type":75,"value":524},": A convenience method that returns the current redirect path and clears it from the cookie.",{"type":70,"tag":86,"props":526,"children":528},{"id":527},"manual-usage",[529],{"type":75,"value":530},"Manual Usage",{"type":70,"tag":71,"props":532,"children":533},{},[534],{"type":75,"value":535},"You can also manually set and read the redirect path:",{"type":70,"tag":139,"props":537,"children":541},{"className":538,"code":539,"language":540,"meta":64,"style":64},"language-ts shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","const redirectInfo = useSupabaseCookieRedirect()\n\n// Save a specific path\nredirectInfo.path.value = '/dashboard'\n\n// Read the current path without clearing it\nconst currentPath = redirectInfo.path.value\n\n// Get the path and clear it\nconst path = redirectInfo.pluck()\n","ts",[542],{"type":70,"tag":78,"props":543,"children":544},{"__ignoreMap":64},[545,568,575,583,626,633,641,678,685,693],{"type":70,"tag":149,"props":546,"children":547},{"class":151,"line":152},[548,552,556,560,564],{"type":70,"tag":149,"props":549,"children":550},{"style":168},[551],{"type":75,"value":185},{"type":70,"tag":149,"props":553,"children":554},{"style":188},[555],{"type":75,"value":220},{"type":70,"tag":149,"props":557,"children":558},{"style":156},[559],{"type":75,"value":196},{"type":70,"tag":149,"props":561,"children":562},{"style":199},[563],{"type":75,"value":229},{"type":70,"tag":149,"props":565,"children":566},{"style":188},[567],{"type":75,"value":207},{"type":70,"tag":149,"props":569,"children":570},{"class":151,"line":179},[571],{"type":70,"tag":149,"props":572,"children":573},{"emptyLinePlaceholder":240},[574],{"type":75,"value":243},{"type":70,"tag":149,"props":576,"children":577},{"class":151,"line":210},[578],{"type":70,"tag":149,"props":579,"children":580},{"style":323},[581],{"type":75,"value":582},"// Save a specific path\n",{"type":70,"tag":149,"props":584,"children":585},{"class":151,"line":236},[586,591,595,599,603,608,612,616,621],{"type":70,"tag":149,"props":587,"children":588},{"style":188},[589],{"type":75,"value":590},"redirectInfo",{"type":70,"tag":149,"props":592,"children":593},{"style":156},[594],{"type":75,"value":120},{"type":70,"tag":149,"props":596,"children":597},{"style":188},[598],{"type":75,"value":396},{"type":70,"tag":149,"props":600,"children":601},{"style":156},[602],{"type":75,"value":120},{"type":70,"tag":149,"props":604,"children":605},{"style":188},[606],{"type":75,"value":607},"value ",{"type":70,"tag":149,"props":609,"children":610},{"style":156},[611],{"type":75,"value":196},{"type":70,"tag":149,"props":613,"children":614},{"style":156},[615],{"type":75,"value":406},{"type":70,"tag":149,"props":617,"children":618},{"style":409},[619],{"type":75,"value":620},"/dashboard",{"type":70,"tag":149,"props":622,"children":623},{"style":156},[624],{"type":75,"value":625},"'\n",{"type":70,"tag":149,"props":627,"children":628},{"class":151,"line":246},[629],{"type":70,"tag":149,"props":630,"children":631},{"emptyLinePlaceholder":240},[632],{"type":75,"value":243},{"type":70,"tag":149,"props":634,"children":635},{"class":151,"line":280},[636],{"type":70,"tag":149,"props":637,"children":638},{"style":323},[639],{"type":75,"value":640},"// Read the current path without clearing it\n",{"type":70,"tag":149,"props":642,"children":643},{"class":151,"line":319},[644,648,653,657,661,665,669,673],{"type":70,"tag":149,"props":645,"children":646},{"style":168},[647],{"type":75,"value":185},{"type":70,"tag":149,"props":649,"children":650},{"style":188},[651],{"type":75,"value":652}," currentPath ",{"type":70,"tag":149,"props":654,"children":655},{"style":156},[656],{"type":75,"value":196},{"type":70,"tag":149,"props":658,"children":659},{"style":188},[660],{"type":75,"value":350},{"type":70,"tag":149,"props":662,"children":663},{"style":156},[664],{"type":75,"value":120},{"type":70,"tag":149,"props":666,"children":667},{"style":188},[668],{"type":75,"value":396},{"type":70,"tag":149,"props":670,"children":671},{"style":156},[672],{"type":75,"value":120},{"type":70,"tag":149,"props":674,"children":675},{"style":188},[676],{"type":75,"value":677},"value\n",{"type":70,"tag":149,"props":679,"children":680},{"class":151,"line":329},[681],{"type":70,"tag":149,"props":682,"children":683},{"emptyLinePlaceholder":240},[684],{"type":75,"value":243},{"type":70,"tag":149,"props":686,"children":687},{"class":151,"line":366},[688],{"type":70,"tag":149,"props":689,"children":690},{"style":323},[691],{"type":75,"value":692},"// Get the path and clear it\n",{"type":70,"tag":149,"props":694,"children":695},{"class":151,"line":375},[696,700,705,709,713,717,721],{"type":70,"tag":149,"props":697,"children":698},{"style":168},[699],{"type":75,"value":185},{"type":70,"tag":149,"props":701,"children":702},{"style":188},[703],{"type":75,"value":704}," path ",{"type":70,"tag":149,"props":706,"children":707},{"style":156},[708],{"type":75,"value":196},{"type":70,"tag":149,"props":710,"children":711},{"style":188},[712],{"type":75,"value":350},{"type":70,"tag":149,"props":714,"children":715},{"style":156},[716],{"type":75,"value":120},{"type":70,"tag":149,"props":718,"children":719},{"style":199},[720],{"type":75,"value":359},{"type":70,"tag":149,"props":722,"children":723},{"style":188},[724],{"type":75,"value":207},{"type":70,"tag":71,"props":726,"children":727},{},[728,730,736,738,744,746,752],{"type":75,"value":729},"The cookie is saved with the name ",{"type":70,"tag":78,"props":731,"children":733},{"className":732},[],[734],{"type":75,"value":735},"{cookiePrefix}-redirect-path",{"type":75,"value":737}," where ",{"type":70,"tag":78,"props":739,"children":741},{"className":740},[],[742],{"type":75,"value":743},"cookiePrefix",{"type":75,"value":745}," is defined in the ",{"type":70,"tag":97,"props":747,"children":749},{"href":748},"/get-started#runtime-config",[750],{"type":75,"value":751},"runtime config",{"type":75,"value":120},{"type":70,"tag":754,"props":755,"children":756},"style",{},[757],{"type":75,"value":758},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":64,"searchDepth":179,"depth":179,"links":760},[761,762,763],{"id":88,"depth":179,"text":13},{"id":490,"depth":179,"text":493},{"id":527,"depth":179,"text":530},"markdown","content:4.usage:composables:useSupabaseCookieRedirect.md","content","4.usage/composables/useSupabaseCookieRedirect.md","4.usage/composables/useSupabaseCookieRedirect","md",[771,773],{"_path":22,"title":21,"description":772},"Make requests to the Supabase API with the useSupabaseClient composable",{"_path":28,"title":27,"description":774},"Auto import and use your Supabase user's session with the useSupabaseSession composable",1740761011188]