[{"data":1,"prerenderedAt":559},["ShallowReactive",2],{"navigation":3,"/usage/composables/usesupabasesession":61,"/usage/composables/usesupabasesession-surround":554},[4,8,12,49,53,57],{"title":5,"_path":6,"icon":7},"Get Started","/get-started","i-heroicons-rocket-launch",{"title":9,"_path":10,"icon":11},"Authentication","/authentication","i-heroicons-lock-closed",{"title":13,"_path":14,"children":15,"icon":48},"Usage","/usage",[16,32],{"title":17,"_path":18,"children":19},"Vue composables","/usage/composables",[20,23,26,29],{"title":21,"_path":22},"useSupabaseClient","/usage/composables/usesupabaseclient",{"title":24,"_path":25},"useSupabaseCookieRedirect","/usage/composables/usesupabasecookieredirect",{"title":27,"_path":28},"useSupabaseSession","/usage/composables/usesupabasesession",{"title":30,"_path":31},"useSupabaseUser","/usage/composables/usesupabaseuser",{"title":33,"_path":34,"children":35},"Server services","/usage/services",[36,39,42,45],{"title":37,"_path":38},"serverSupabaseClient","/usage/services/serversupabaseclient",{"title":40,"_path":41},"serverSupabaseServiceRole","/usage/services/serversupabaseservicerole",{"title":43,"_path":44},"serverSupabaseSession","/usage/services/serversupabasesession",{"title":46,"_path":47},"serverSupabaseUser","/usage/services/serversupabaseuser","heroicons:book-open",{"title":50,"_path":51,"icon":52},"Demo","/demo","i-heroicons-computer-desktop-20-solid",{"title":54,"_path":55,"icon":56},"Changelog","/changelog","i-heroicons-bookmark",{"title":58,"_path":59,"icon":60},"Roadmap","/roadmap","i-heroicons-map",{"_path":28,"_dir":62,"_draft":63,"_partial":63,"_locale":64,"title":27,"description":65,"body":66,"_type":548,"_id":549,"_source":550,"_file":551,"_stem":552,"_extension":553},"composables",false,"","Auto import and use your Supabase user's session with the useSupabaseSession composable",{"type":67,"children":68,"toc":545},"root",[69,88,176,192,199,229,242,450,455,518,539],{"type":70,"tag":71,"props":72,"children":73},"element","p",{},[74,77,86],{"type":75,"value":76},"text","Once logged in, you can ",{"type":70,"tag":78,"props":79,"children":83},"a",{"href":80,"rel":81},"https://nuxt.com/docs/guide/directory-structure/composables",[82],"nofollow",[84],{"type":75,"value":85},"auto-import",{"type":75,"value":87}," your user's session everywhere inside your vue files.",{"type":70,"tag":89,"props":90,"children":94},"pre",{"className":91,"code":92,"language":93,"meta":64,"style":64},"language-vue shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","\u003Cscript setup>\nconst session = useSupabaseSession()\n\u003C/script>\n","vue",[95],{"type":70,"tag":96,"props":97,"children":98},"code",{"__ignoreMap":64},[99,128,159],{"type":70,"tag":100,"props":101,"children":104},"span",{"class":102,"line":103},"line",1,[105,111,117,123],{"type":70,"tag":100,"props":106,"children":108},{"style":107},"--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF",[109],{"type":75,"value":110},"\u003C",{"type":70,"tag":100,"props":112,"children":114},{"style":113},"--shiki-light:#E53935;--shiki-default:#F07178;--shiki-dark:#F07178",[115],{"type":75,"value":116},"script",{"type":70,"tag":100,"props":118,"children":120},{"style":119},"--shiki-light:#9C3EDA;--shiki-default:#C792EA;--shiki-dark:#C792EA",[121],{"type":75,"value":122}," setup",{"type":70,"tag":100,"props":124,"children":125},{"style":107},[126],{"type":75,"value":127},">\n",{"type":70,"tag":100,"props":129,"children":131},{"class":102,"line":130},2,[132,137,143,148,154],{"type":70,"tag":100,"props":133,"children":134},{"style":119},[135],{"type":75,"value":136},"const",{"type":70,"tag":100,"props":138,"children":140},{"style":139},"--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8",[141],{"type":75,"value":142}," session ",{"type":70,"tag":100,"props":144,"children":145},{"style":107},[146],{"type":75,"value":147},"=",{"type":70,"tag":100,"props":149,"children":151},{"style":150},"--shiki-light:#6182B8;--shiki-default:#82AAFF;--shiki-dark:#82AAFF",[152],{"type":75,"value":153}," useSupabaseSession",{"type":70,"tag":100,"props":155,"children":156},{"style":139},[157],{"type":75,"value":158},"()\n",{"type":70,"tag":100,"props":160,"children":162},{"class":102,"line":161},3,[163,168,172],{"type":70,"tag":100,"props":164,"children":165},{"style":107},[166],{"type":75,"value":167},"\u003C/",{"type":70,"tag":100,"props":169,"children":170},{"style":113},[171],{"type":75,"value":116},{"type":70,"tag":100,"props":173,"children":174},{"style":107},[175],{"type":75,"value":127},{"type":70,"tag":177,"props":178,"children":180},"callout",{"icon":179},"i-heroicons-light-bulb",[181],{"type":70,"tag":71,"props":182,"children":183},{},[184,186,190],{"type":75,"value":185},"If you just need the User's information you can use ",{"type":70,"tag":78,"props":187,"children":188},{"href":31},[189],{"type":75,"value":30},{"type":75,"value":191}," which returns just the User information of the session.",{"type":70,"tag":193,"props":194,"children":196},"h2",{"id":195},"auth-middleware",[197],{"type":75,"value":198},"Auth middleware",{"type":70,"tag":177,"props":200,"children":201},{"icon":179},[202],{"type":70,"tag":71,"props":203,"children":204},{},[205,207,213,215,220,222,227],{"type":75,"value":206},"By default, the module is implementing a redirect middleware. All pages of your application are automatically redirected to the ",{"type":70,"tag":78,"props":208,"children":210},{"href":209},"/get-started#redirectoptions",[211],{"type":75,"value":212},"login",{"type":75,"value":214}," page. However, you can allow redirection to \"public\" pages by setting the ",{"type":70,"tag":78,"props":216,"children":217},{"href":209},[218],{"type":75,"value":219},"exclude",{"type":75,"value":221}," redirect option. Alternatively, you can enable the redirect only for certain routes using the ",{"type":70,"tag":78,"props":223,"children":224},{"href":209},[225],{"type":75,"value":226},"include",{"type":75,"value":228}," redirect option.",{"type":70,"tag":71,"props":230,"children":231},{},[232,234,240],{"type":75,"value":233},"If the ",{"type":70,"tag":78,"props":235,"children":237},{"href":236},"/get-started#redirect",[238],{"type":75,"value":239},"redirect",{"type":75,"value":241}," option is disabled, you can protect your authenticated routes by creating a custom middleware in your project, here is an example:",{"type":70,"tag":89,"props":243,"children":248},{"className":244,"code":245,"filename":246,"language":247,"meta":64,"style":64},"language-ts shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","export default defineNuxtRouteMiddleware((to, _from) => {\n  const session = useSupabaseSession()\n\n  if (!session.value) {\n    return navigateTo('/login')\n  }\n})\n","middleware/auth.ts","ts",[249],{"type":70,"tag":96,"props":250,"children":251},{"__ignoreMap":64},[252,311,337,346,390,428,437],{"type":70,"tag":100,"props":253,"children":254},{"class":102,"line":103},[255,261,266,271,276,280,286,291,296,301,306],{"type":70,"tag":100,"props":256,"children":258},{"style":257},"--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[259],{"type":75,"value":260},"export",{"type":70,"tag":100,"props":262,"children":263},{"style":257},[264],{"type":75,"value":265}," default",{"type":70,"tag":100,"props":267,"children":268},{"style":150},[269],{"type":75,"value":270}," defineNuxtRouteMiddleware",{"type":70,"tag":100,"props":272,"children":273},{"style":139},[274],{"type":75,"value":275},"(",{"type":70,"tag":100,"props":277,"children":278},{"style":107},[279],{"type":75,"value":275},{"type":70,"tag":100,"props":281,"children":283},{"style":282},"--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[284],{"type":75,"value":285},"to",{"type":70,"tag":100,"props":287,"children":288},{"style":107},[289],{"type":75,"value":290},",",{"type":70,"tag":100,"props":292,"children":293},{"style":282},[294],{"type":75,"value":295}," _from",{"type":70,"tag":100,"props":297,"children":298},{"style":107},[299],{"type":75,"value":300},")",{"type":70,"tag":100,"props":302,"children":303},{"style":119},[304],{"type":75,"value":305}," =>",{"type":70,"tag":100,"props":307,"children":308},{"style":107},[309],{"type":75,"value":310}," {\n",{"type":70,"tag":100,"props":312,"children":313},{"class":102,"line":130},[314,319,324,329,333],{"type":70,"tag":100,"props":315,"children":316},{"style":119},[317],{"type":75,"value":318},"  const",{"type":70,"tag":100,"props":320,"children":321},{"style":139},[322],{"type":75,"value":323}," session",{"type":70,"tag":100,"props":325,"children":326},{"style":107},[327],{"type":75,"value":328}," =",{"type":70,"tag":100,"props":330,"children":331},{"style":150},[332],{"type":75,"value":153},{"type":70,"tag":100,"props":334,"children":335},{"style":113},[336],{"type":75,"value":158},{"type":70,"tag":100,"props":338,"children":339},{"class":102,"line":161},[340],{"type":70,"tag":100,"props":341,"children":343},{"emptyLinePlaceholder":342},true,[344],{"type":75,"value":345},"\n",{"type":70,"tag":100,"props":347,"children":349},{"class":102,"line":348},4,[350,355,360,365,370,375,380,385],{"type":70,"tag":100,"props":351,"children":352},{"style":257},[353],{"type":75,"value":354},"  if",{"type":70,"tag":100,"props":356,"children":357},{"style":113},[358],{"type":75,"value":359}," (",{"type":70,"tag":100,"props":361,"children":362},{"style":107},[363],{"type":75,"value":364},"!",{"type":70,"tag":100,"props":366,"children":367},{"style":139},[368],{"type":75,"value":369},"session",{"type":70,"tag":100,"props":371,"children":372},{"style":107},[373],{"type":75,"value":374},".",{"type":70,"tag":100,"props":376,"children":377},{"style":139},[378],{"type":75,"value":379},"value",{"type":70,"tag":100,"props":381,"children":382},{"style":113},[383],{"type":75,"value":384},") ",{"type":70,"tag":100,"props":386,"children":387},{"style":107},[388],{"type":75,"value":389},"{\n",{"type":70,"tag":100,"props":391,"children":393},{"class":102,"line":392},5,[394,399,404,408,413,419,423],{"type":70,"tag":100,"props":395,"children":396},{"style":257},[397],{"type":75,"value":398},"    return",{"type":70,"tag":100,"props":400,"children":401},{"style":150},[402],{"type":75,"value":403}," navigateTo",{"type":70,"tag":100,"props":405,"children":406},{"style":113},[407],{"type":75,"value":275},{"type":70,"tag":100,"props":409,"children":410},{"style":107},[411],{"type":75,"value":412},"'",{"type":70,"tag":100,"props":414,"children":416},{"style":415},"--shiki-light:#91B859;--shiki-default:#C3E88D;--shiki-dark:#C3E88D",[417],{"type":75,"value":418},"/login",{"type":70,"tag":100,"props":420,"children":421},{"style":107},[422],{"type":75,"value":412},{"type":70,"tag":100,"props":424,"children":425},{"style":113},[426],{"type":75,"value":427},")\n",{"type":70,"tag":100,"props":429,"children":431},{"class":102,"line":430},6,[432],{"type":70,"tag":100,"props":433,"children":434},{"style":107},[435],{"type":75,"value":436},"  }\n",{"type":70,"tag":100,"props":438,"children":440},{"class":102,"line":439},7,[441,446],{"type":70,"tag":100,"props":442,"children":443},{"style":107},[444],{"type":75,"value":445},"}",{"type":70,"tag":100,"props":447,"children":448},{"style":139},[449],{"type":75,"value":427},{"type":70,"tag":71,"props":451,"children":452},{},[453],{"type":75,"value":454},"Then you can reference your middleware in your page with:",{"type":70,"tag":89,"props":456,"children":459},{"className":244,"code":457,"filename":458,"language":247,"meta":64,"style":64},"definePageMeta({\n  middleware: 'auth'\n})\n","pages/dashboard.vue",[460],{"type":70,"tag":96,"props":461,"children":462},{"__ignoreMap":64},[463,479,507],{"type":70,"tag":100,"props":464,"children":465},{"class":102,"line":103},[466,471,475],{"type":70,"tag":100,"props":467,"children":468},{"style":150},[469],{"type":75,"value":470},"definePageMeta",{"type":70,"tag":100,"props":472,"children":473},{"style":139},[474],{"type":75,"value":275},{"type":70,"tag":100,"props":476,"children":477},{"style":107},[478],{"type":75,"value":389},{"type":70,"tag":100,"props":480,"children":481},{"class":102,"line":130},[482,487,492,497,502],{"type":70,"tag":100,"props":483,"children":484},{"style":113},[485],{"type":75,"value":486},"  middleware",{"type":70,"tag":100,"props":488,"children":489},{"style":107},[490],{"type":75,"value":491},":",{"type":70,"tag":100,"props":493,"children":494},{"style":107},[495],{"type":75,"value":496}," '",{"type":70,"tag":100,"props":498,"children":499},{"style":415},[500],{"type":75,"value":501},"auth",{"type":70,"tag":100,"props":503,"children":504},{"style":107},[505],{"type":75,"value":506},"'\n",{"type":70,"tag":100,"props":508,"children":509},{"class":102,"line":161},[510,514],{"type":70,"tag":100,"props":511,"children":512},{"style":107},[513],{"type":75,"value":445},{"type":70,"tag":100,"props":515,"children":516},{"style":139},[517],{"type":75,"value":427},{"type":70,"tag":71,"props":519,"children":520},{},[521,523,530,532,538],{"type":75,"value":522},"Learn more about ",{"type":70,"tag":78,"props":524,"children":527},{"href":525,"rel":526},"https://nuxt.com/docs/guide/directory-structure/middleware",[82],[528],{"type":75,"value":529},"Nuxt middleware",{"type":75,"value":531}," and ",{"type":70,"tag":78,"props":533,"children":536},{"href":534,"rel":535},"https://nuxt.com/docs/guide/directory-structure/pages#page-metadata",[82],[537],{"type":75,"value":470},{"type":75,"value":374},{"type":70,"tag":540,"props":541,"children":542},"style",{},[543],{"type":75,"value":544},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":64,"searchDepth":130,"depth":130,"links":546},[547],{"id":195,"depth":130,"text":198},"markdown","content:4.usage:composables:useSupabaseSession.md","content","4.usage/composables/useSupabaseSession.md","4.usage/composables/useSupabaseSession","md",[555,557],{"_path":25,"title":24,"description":556},"Handle redirecting users to the page they previously tried to visit after login",{"_path":31,"title":30,"description":558},"Auto import and use your Supabase user with the useSupabaseUser composable",1740761011194]