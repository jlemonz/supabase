[{"data":1,"prerenderedAt":545},["ShallowReactive",2],{"navigation":3,"/usage/composables/usesupabaseuser":61,"/usage/composables/usesupabaseuser-surround":540},[4,8,12,49,53,57],{"title":5,"_path":6,"icon":7},"Get Started","/get-started","i-heroicons-rocket-launch",{"title":9,"_path":10,"icon":11},"Authentication","/authentication","i-heroicons-lock-closed",{"title":13,"_path":14,"children":15,"icon":48},"Usage","/usage",[16,32],{"title":17,"_path":18,"children":19},"Vue composables","/usage/composables",[20,23,26,29],{"title":21,"_path":22},"useSupabaseClient","/usage/composables/usesupabaseclient",{"title":24,"_path":25},"useSupabaseCookieRedirect","/usage/composables/usesupabasecookieredirect",{"title":27,"_path":28},"useSupabaseSession","/usage/composables/usesupabasesession",{"title":30,"_path":31},"useSupabaseUser","/usage/composables/usesupabaseuser",{"title":33,"_path":34,"children":35},"Server services","/usage/services",[36,39,42,45],{"title":37,"_path":38},"serverSupabaseClient","/usage/services/serversupabaseclient",{"title":40,"_path":41},"serverSupabaseServiceRole","/usage/services/serversupabaseservicerole",{"title":43,"_path":44},"serverSupabaseSession","/usage/services/serversupabasesession",{"title":46,"_path":47},"serverSupabaseUser","/usage/services/serversupabaseuser","heroicons:book-open",{"title":50,"_path":51,"icon":52},"Demo","/demo","i-heroicons-computer-desktop-20-solid",{"title":54,"_path":55,"icon":56},"Changelog","/changelog","i-heroicons-bookmark",{"title":58,"_path":59,"icon":60},"Roadmap","/roadmap","i-heroicons-map",{"_path":31,"_dir":62,"_draft":63,"_partial":63,"_locale":64,"title":30,"description":65,"body":66,"_type":534,"_id":535,"_source":536,"_file":537,"_stem":538,"_extension":539},"composables",false,"","Auto import and use your Supabase user with the useSupabaseUser composable",{"type":67,"children":68,"toc":531},"root",[69,88,176,183,215,228,436,441,504,525],{"type":70,"tag":71,"props":72,"children":73},"element","p",{},[74,77,86],{"type":75,"value":76},"text","Once logged in, you can ",{"type":70,"tag":78,"props":79,"children":83},"a",{"href":80,"rel":81},"https://nuxt.com/docs/guide/directory-structure/composables",[82],"nofollow",[84],{"type":75,"value":85},"auto-import",{"type":75,"value":87}," your user everywhere inside your vue files.",{"type":70,"tag":89,"props":90,"children":94},"pre",{"className":91,"code":92,"language":93,"meta":64,"style":64},"language-vue shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","\u003Cscript setup>\nconst user = useSupabaseUser()\n\u003C/script>\n","vue",[95],{"type":70,"tag":96,"props":97,"children":98},"code",{"__ignoreMap":64},[99,128,159],{"type":70,"tag":100,"props":101,"children":104},"span",{"class":102,"line":103},"line",1,[105,111,117,123],{"type":70,"tag":100,"props":106,"children":108},{"style":107},"--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF",[109],{"type":75,"value":110},"\u003C",{"type":70,"tag":100,"props":112,"children":114},{"style":113},"--shiki-light:#E53935;--shiki-default:#F07178;--shiki-dark:#F07178",[115],{"type":75,"value":116},"script",{"type":70,"tag":100,"props":118,"children":120},{"style":119},"--shiki-light:#9C3EDA;--shiki-default:#C792EA;--shiki-dark:#C792EA",[121],{"type":75,"value":122}," setup",{"type":70,"tag":100,"props":124,"children":125},{"style":107},[126],{"type":75,"value":127},">\n",{"type":70,"tag":100,"props":129,"children":131},{"class":102,"line":130},2,[132,137,143,148,154],{"type":70,"tag":100,"props":133,"children":134},{"style":119},[135],{"type":75,"value":136},"const",{"type":70,"tag":100,"props":138,"children":140},{"style":139},"--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8",[141],{"type":75,"value":142}," user ",{"type":70,"tag":100,"props":144,"children":145},{"style":107},[146],{"type":75,"value":147},"=",{"type":70,"tag":100,"props":149,"children":151},{"style":150},"--shiki-light:#6182B8;--shiki-default:#82AAFF;--shiki-dark:#82AAFF",[152],{"type":75,"value":153}," useSupabaseUser",{"type":70,"tag":100,"props":155,"children":156},{"style":139},[157],{"type":75,"value":158},"()\n",{"type":70,"tag":100,"props":160,"children":162},{"class":102,"line":161},3,[163,168,172],{"type":70,"tag":100,"props":164,"children":165},{"style":107},[166],{"type":75,"value":167},"\u003C/",{"type":70,"tag":100,"props":169,"children":170},{"style":113},[171],{"type":75,"value":116},{"type":70,"tag":100,"props":173,"children":174},{"style":107},[175],{"type":75,"value":127},{"type":70,"tag":177,"props":178,"children":180},"h2",{"id":179},"auth-middleware",[181],{"type":75,"value":182},"Auth middleware",{"type":70,"tag":184,"props":185,"children":187},"callout",{"icon":186},"i-heroicons-light-bulb",[188],{"type":70,"tag":71,"props":189,"children":190},{},[191,193,199,201,206,208,213],{"type":75,"value":192},"By default, the module is implementing a redirect middleware. All pages of your application are automatically redirected to the ",{"type":70,"tag":78,"props":194,"children":196},{"href":195},"/get-started#redirectoptions",[197],{"type":75,"value":198},"login",{"type":75,"value":200}," page. However, you can allow redirection to \"public\" pages by setting the ",{"type":70,"tag":78,"props":202,"children":203},{"href":195},[204],{"type":75,"value":205},"exclude",{"type":75,"value":207}," redirect option. Alternatively, you can enable the redirect only for certain routes using the ",{"type":70,"tag":78,"props":209,"children":210},{"href":195},[211],{"type":75,"value":212},"include",{"type":75,"value":214}," redirect option.",{"type":70,"tag":71,"props":216,"children":217},{},[218,220,226],{"type":75,"value":219},"If the ",{"type":70,"tag":78,"props":221,"children":223},{"href":222},"/get-started#redirect",[224],{"type":75,"value":225},"redirect",{"type":75,"value":227}," option is disabled, you can protect your authenticated routes by creating a custom middleware in your project, here is an example:",{"type":70,"tag":89,"props":229,"children":234},{"className":230,"code":231,"filename":232,"language":233,"meta":64,"style":64},"language-ts shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","export default defineNuxtRouteMiddleware((to, _from) => {\n  const user = useSupabaseUser()\n\n  if (!user.value) {\n    return navigateTo('/login')\n  }\n})\n","middleware/auth.ts","ts",[235],{"type":70,"tag":96,"props":236,"children":237},{"__ignoreMap":64},[238,297,323,332,376,414,423],{"type":70,"tag":100,"props":239,"children":240},{"class":102,"line":103},[241,247,252,257,262,266,272,277,282,287,292],{"type":70,"tag":100,"props":242,"children":244},{"style":243},"--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[245],{"type":75,"value":246},"export",{"type":70,"tag":100,"props":248,"children":249},{"style":243},[250],{"type":75,"value":251}," default",{"type":70,"tag":100,"props":253,"children":254},{"style":150},[255],{"type":75,"value":256}," defineNuxtRouteMiddleware",{"type":70,"tag":100,"props":258,"children":259},{"style":139},[260],{"type":75,"value":261},"(",{"type":70,"tag":100,"props":263,"children":264},{"style":107},[265],{"type":75,"value":261},{"type":70,"tag":100,"props":267,"children":269},{"style":268},"--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[270],{"type":75,"value":271},"to",{"type":70,"tag":100,"props":273,"children":274},{"style":107},[275],{"type":75,"value":276},",",{"type":70,"tag":100,"props":278,"children":279},{"style":268},[280],{"type":75,"value":281}," _from",{"type":70,"tag":100,"props":283,"children":284},{"style":107},[285],{"type":75,"value":286},")",{"type":70,"tag":100,"props":288,"children":289},{"style":119},[290],{"type":75,"value":291}," =>",{"type":70,"tag":100,"props":293,"children":294},{"style":107},[295],{"type":75,"value":296}," {\n",{"type":70,"tag":100,"props":298,"children":299},{"class":102,"line":130},[300,305,310,315,319],{"type":70,"tag":100,"props":301,"children":302},{"style":119},[303],{"type":75,"value":304},"  const",{"type":70,"tag":100,"props":306,"children":307},{"style":139},[308],{"type":75,"value":309}," user",{"type":70,"tag":100,"props":311,"children":312},{"style":107},[313],{"type":75,"value":314}," =",{"type":70,"tag":100,"props":316,"children":317},{"style":150},[318],{"type":75,"value":153},{"type":70,"tag":100,"props":320,"children":321},{"style":113},[322],{"type":75,"value":158},{"type":70,"tag":100,"props":324,"children":325},{"class":102,"line":161},[326],{"type":70,"tag":100,"props":327,"children":329},{"emptyLinePlaceholder":328},true,[330],{"type":75,"value":331},"\n",{"type":70,"tag":100,"props":333,"children":335},{"class":102,"line":334},4,[336,341,346,351,356,361,366,371],{"type":70,"tag":100,"props":337,"children":338},{"style":243},[339],{"type":75,"value":340},"  if",{"type":70,"tag":100,"props":342,"children":343},{"style":113},[344],{"type":75,"value":345}," (",{"type":70,"tag":100,"props":347,"children":348},{"style":107},[349],{"type":75,"value":350},"!",{"type":70,"tag":100,"props":352,"children":353},{"style":139},[354],{"type":75,"value":355},"user",{"type":70,"tag":100,"props":357,"children":358},{"style":107},[359],{"type":75,"value":360},".",{"type":70,"tag":100,"props":362,"children":363},{"style":139},[364],{"type":75,"value":365},"value",{"type":70,"tag":100,"props":367,"children":368},{"style":113},[369],{"type":75,"value":370},") ",{"type":70,"tag":100,"props":372,"children":373},{"style":107},[374],{"type":75,"value":375},"{\n",{"type":70,"tag":100,"props":377,"children":379},{"class":102,"line":378},5,[380,385,390,394,399,405,409],{"type":70,"tag":100,"props":381,"children":382},{"style":243},[383],{"type":75,"value":384},"    return",{"type":70,"tag":100,"props":386,"children":387},{"style":150},[388],{"type":75,"value":389}," navigateTo",{"type":70,"tag":100,"props":391,"children":392},{"style":113},[393],{"type":75,"value":261},{"type":70,"tag":100,"props":395,"children":396},{"style":107},[397],{"type":75,"value":398},"'",{"type":70,"tag":100,"props":400,"children":402},{"style":401},"--shiki-light:#91B859;--shiki-default:#C3E88D;--shiki-dark:#C3E88D",[403],{"type":75,"value":404},"/login",{"type":70,"tag":100,"props":406,"children":407},{"style":107},[408],{"type":75,"value":398},{"type":70,"tag":100,"props":410,"children":411},{"style":113},[412],{"type":75,"value":413},")\n",{"type":70,"tag":100,"props":415,"children":417},{"class":102,"line":416},6,[418],{"type":70,"tag":100,"props":419,"children":420},{"style":107},[421],{"type":75,"value":422},"  }\n",{"type":70,"tag":100,"props":424,"children":426},{"class":102,"line":425},7,[427,432],{"type":70,"tag":100,"props":428,"children":429},{"style":107},[430],{"type":75,"value":431},"}",{"type":70,"tag":100,"props":433,"children":434},{"style":139},[435],{"type":75,"value":413},{"type":70,"tag":71,"props":437,"children":438},{},[439],{"type":75,"value":440},"Then you can reference your middleware in your page with:",{"type":70,"tag":89,"props":442,"children":445},{"className":230,"code":443,"filename":444,"language":233,"meta":64,"style":64},"definePageMeta({\n  middleware: 'auth'\n})\n","pages/dashboard.vue",[446],{"type":70,"tag":96,"props":447,"children":448},{"__ignoreMap":64},[449,465,493],{"type":70,"tag":100,"props":450,"children":451},{"class":102,"line":103},[452,457,461],{"type":70,"tag":100,"props":453,"children":454},{"style":150},[455],{"type":75,"value":456},"definePageMeta",{"type":70,"tag":100,"props":458,"children":459},{"style":139},[460],{"type":75,"value":261},{"type":70,"tag":100,"props":462,"children":463},{"style":107},[464],{"type":75,"value":375},{"type":70,"tag":100,"props":466,"children":467},{"class":102,"line":130},[468,473,478,483,488],{"type":70,"tag":100,"props":469,"children":470},{"style":113},[471],{"type":75,"value":472},"  middleware",{"type":70,"tag":100,"props":474,"children":475},{"style":107},[476],{"type":75,"value":477},":",{"type":70,"tag":100,"props":479,"children":480},{"style":107},[481],{"type":75,"value":482}," '",{"type":70,"tag":100,"props":484,"children":485},{"style":401},[486],{"type":75,"value":487},"auth",{"type":70,"tag":100,"props":489,"children":490},{"style":107},[491],{"type":75,"value":492},"'\n",{"type":70,"tag":100,"props":494,"children":495},{"class":102,"line":161},[496,500],{"type":70,"tag":100,"props":497,"children":498},{"style":107},[499],{"type":75,"value":431},{"type":70,"tag":100,"props":501,"children":502},{"style":139},[503],{"type":75,"value":413},{"type":70,"tag":71,"props":505,"children":506},{},[507,509,516,518,524],{"type":75,"value":508},"Learn more about ",{"type":70,"tag":78,"props":510,"children":513},{"href":511,"rel":512},"https://nuxt.com/docs/guide/directory-structure/middleware",[82],[514],{"type":75,"value":515},"Nuxt middleware",{"type":75,"value":517}," and ",{"type":70,"tag":78,"props":519,"children":522},{"href":520,"rel":521},"https://nuxt.com/docs/guide/directory-structure/pages#page-metadata",[82],[523],{"type":75,"value":456},{"type":75,"value":360},{"type":70,"tag":526,"props":527,"children":528},"style",{},[529],{"type":75,"value":530},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":64,"searchDepth":130,"depth":130,"links":532},[533],{"id":179,"depth":130,"text":182},"markdown","content:4.usage:composables:useSupabaseUser.md","content","4.usage/composables/useSupabaseUser.md","4.usage/composables/useSupabaseUser","md",[541,543],{"_path":28,"title":27,"description":542},"Auto import and use your Supabase user's session with the useSupabaseSession composable",{"_path":38,"title":37,"description":544},"Make requests to the Supabase API on server side with the serverSupabaseClient service",1740754681431]